<HTML>
	<head>
        <title>Cube Puzzle</title>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<style>
					.a {
			position: absolute;
			left:200px;
			top:100px;
			}

			.img1 {
			    clip-path: inset(0px 150px 150px 0px);
			}

			.img2 {
			    clip-path: inset(0px 100px 150px 50px);
			}
			.wordOption {
				font-size: XX-Large;
				margin-left: 10px;
				cursor: hand;
                background-color: white;
                font-family: "Arial";
			}

		</style>
		<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
		<script src="puzzle_helpers.js"></script>

		<script>

		var rows = 3
		var cols = 4
		var elementCount = rows * cols
		var blocks = Array.matrix(rows,cols);


		function render(arr) {
			for(var i = 0; i < arr.length; i++) {
		    var cube = arr[i];
		    for(var j = 0; j < cube.length; j++) {
					// get the html element this block controls
		        console.log("cube[" + i + "][" + j + "] = " + cube[j].activeImageId);
		    }
			}
		}

		function init() {
			blocks = initBlocks("",)
		}

    function initBlocks(imgPath, rows, cols) {

    }

    function swapBlocks(b1, b2) {

    }

		$(document).keypress(function(e) {
			 alert(e.which)
			if(e.which == 97) {

			} else if(e.which == 116) {

		 } else if(e.which == 102) {

		 }
		});



    function addElement(css, id) {
        // 10px 150px 150px 0px
        //addElement("left:50px;top: 50px;")
				// <div id="holder" style="
				//     background-image: url(car.png);
				//     width: 50px;
				//     height: 50px;
				//     background-position-x: -50px;
				//     background-position-y: -50px;
				//     border: 2px solid blue;
				// "></div>
        var x = document.getElementById("holder")
        var d = document.createElement("div")
        d.setAttribute("id", id)
				d.setAttribute("class", "imgSquare")


        d.setAttribute("style", css + "position: absolute;");
        x.appendChild(d)
    }

    function createSquares(src, width, height, rows, cols) {
        blockWidth = width / rows
        blockHeight = height / cols
        c = 0
        for (y = 0; y < rows; y++) {
             for (x = 0; x < cols; x++) {
                topY = y * blockHeight
                right = width - blockWidth - (x * blockWidth)
                bottom = height - blockHeight - (y * blockHeight)
                left = x * blockWidth
                clip = topY + "px " + right + "px " + bottom + "px " + left + "px"
//                console.log(clip)
//     background-position-x: -50px;
//     background-position-y: -50px;
								bgposY = -topY
								bgposX = -left
                css = "background-position-y: " + bgposY +"px; background-position-x: " + bgposX +"px; background-image: url(" + src + "); height:" + blockHeight + "px; width: " + blockWidth+ "px; top: " + topY + "px; left: " + left  + "px;"
                addElement(css, "subImg" + c)
                c+=1
            }
        }
    }

		function shuffle(array) {
		  var currentIndex = array.length, temporaryValue, randomIndex;

		  // While there remain elements to shuffle...
		  while (0 !== currentIndex) {

		    // Pick a remaining element...
		    randomIndex = Math.floor(Math.random() * currentIndex);
		    currentIndex -= 1;

		    // And swap it with the current element.
		    temporaryValue = array[currentIndex];
		    array[currentIndex] = array[randomIndex];
		    array[randomIndex] = temporaryValue;
		  }

		  return array;
}

	var selImages = Array()

  $(document).ready(function() {
    createSquares("car.png",200,200,4,4)

		$( ".imgSquare" ).click(function() {
			selImages.push(this)
			if (selImages.length == 2) {
				swap(selImages[0],selImages[1])
				selImages = Array()
			}
		});
  });

  function randomizeLocations(length) {
			a1 = Array()
			a2 = Array()
			for (i = 0; i < length; i++) {
				a1[i] = i
				a2[i] = i
			}

			a1 = shuffle(a1)
			a2 = shuffle(a2)
			for (i = 0; i < length; i++) {
				i1 = document.getElementById("subImg"+a1[i])
				i2 = document.getElementById("subImg"+a2[i])
				swap(i1,i2)
			}
  }

function swap(f1, f2)
{
	var initTop = f1.style.top;
	var initLeft = f1.style.left;
	f1.style.top=f2.style.top;
	f1.style.left=f2.style.left;
	f2.style.top=initTop;
	f2.style.left=initLeft;
}


		</script>
	</head>
<BODY>
	<div id = "holder"></div>
</BODY>
</HTML>
